<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700">
  <!-- Background -->
  <rect width="900" height="700" fill="#f5f5f7" rx="5" ry="5"/>

  <!-- Title -->
  <text x="450" y="40" font-family="Arial" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">NX Monorepo Architecture with VPS Deployment</text>

  <!-- Local Development Environment -->
  <rect x="50" y="80" width="250" height="280" fill="#e6f7ff" stroke="#1890ff" stroke-width="2" rx="5" ry="5"/>
  <text x="175" y="105" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#1890ff">Local Development</text>
  <rect x="70" y="120" width="210" height="220" fill="#ffffff" stroke="#d9d9d9" stroke-width="1" rx="5" ry="5"/>
  <text x="175" y="140" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">NX Monorepo</text>

  <!-- Apps -->
  <rect x="80" y="150" width="90" height="120" fill="#f0f5ff" stroke="#597ef7" stroke-width="1" rx="3" ry="3"/>
  <text x="125" y="170" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Apps</text>
  <rect x="90" y="180" width="70" height="20" fill="#d6e4ff" stroke="#597ef7" stroke-width="1" rx="2" ry="2"/>
  <text x="125" y="194" font-family="Arial" font-size="10" text-anchor="middle">project-1</text>
  <rect x="90" y="205" width="70" height="20" fill="#d6e4ff" stroke="#597ef7" stroke-width="1" rx="2" ry="2"/>
  <text x="125" y="219" font-family="Arial" font-size="10" text-anchor="middle">project-2</text>
  <rect x="90" y="230" width="70" height="20" fill="#d6e4ff" stroke="#597ef7" stroke-width="1" rx="2" ry="2"/>
  <text x="125" y="244" font-family="Arial" font-size="10" text-anchor="middle">monitor</text>

  <!-- Libs -->
  <rect x="180" y="150" width="90" height="120" fill="#f9f0ff" stroke="#9254de" stroke-width="1" rx="3" ry="3"/>
  <text x="225" y="170" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Libs</text>
  <rect x="190" y="180" width="70" height="20" fill="#efdbff" stroke="#9254de" stroke-width="1" rx="2" ry="2"/>
  <text x="225" y="194" font-family="Arial" font-size="10" text-anchor="middle">worker-framework</text>
  <rect x="190" y="205" width="70" height="20" fill="#efdbff" stroke="#9254de" stroke-width="1" rx="2" ry="2"/>
  <text x="225" y="219" font-family="Arial" font-size="10" text-anchor="middle">shared-ui</text>
  <rect x="190" y="230" width="70" height="20" fill="#efdbff" stroke="#9254de" stroke-width="1" rx="2" ry="2"/>
  <text x="225" y="244" font-family="Arial" font-size="10" text-anchor="middle">utils</text>

  <!-- Docker -->
  <rect x="80" y="280" width="190" height="50" fill="#e6fffb" stroke="#13c2c2" stroke-width="1" rx="3" ry="3"/>
  <text x="175" y="295" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Docker Compose (Dev)</text>
  <text x="175" y="315" font-family="Arial" font-size="10" text-anchor="middle">docker-compose.dev.yml</text>

  <!-- VPS Servers -->
  <rect x="400" y="80" width="450" height="580" fill="#f9f0ff" stroke="#722ed1" stroke-width="2" rx="5" ry="5"/>
  <text x="625" y="105" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#722ed1">VPS Deployment Environment</text>

  <!-- VPS1 -->
  <rect x="420" y="120" width="200" height="520" fill="#ffffff" stroke="#d9d9d9" stroke-width="1" rx="5" ry="5"/>
  <text x="520" y="140" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">VPS 1</text>

  <!-- Shared Services VPS1 -->
  <rect x="430" y="150" width="180" height="160" fill="#fff2e8" stroke="#fa8c16" stroke-width="1" rx="3" ry="3"/>
  <text x="520" y="170" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Shared Services</text>

  <!-- Nginx -->
  <rect x="440" y="180" width="160" height="30" fill="#ffe7ba" stroke="#fa8c16" stroke-width="1" rx="2" ry="2"/>
  <text x="520" y="199" font-family="Arial" font-size="11" text-anchor="middle">Nginx (Reverse Proxy)</text>

  <!-- Database -->
  <rect x="440" y="215" width="75" height="30" fill="#ffe7ba" stroke="#fa8c16" stroke-width="1" rx="2" ry="2"/>
  <text x="477" y="234" font-family="Arial" font-size="11" text-anchor="middle">PostgreSQL</text>

  <!-- PgBouncer -->
  <rect x="525" y="215" width="75" height="30" fill="#ffe7ba" stroke="#fa8c16" stroke-width="1" rx="2" ry="2"/>
  <text x="562" y="234" font-family="Arial" font-size="11" text-anchor="middle">PgBouncer</text>

  <!-- RabbitMQ -->
  <rect x="440" y="250" width="75" height="30" fill="#ffe7ba" stroke="#fa8c16" stroke-width="1" rx="2" ry="2"/>
  <text x="477" y="269" font-family="Arial" font-size="11" text-anchor="middle">RabbitMQ</text>

  <!-- MySQL -->
  <rect x="525" y="250" width="75" height="30" fill="#ffe7ba" stroke="#fa8c16" stroke-width="1" rx="2" ry="2"/>
  <text x="562" y="269" font-family="Arial" font-size="11" text-anchor="middle">MySQL</text>

  <!-- Monitor App -->
  <rect x="430" y="320" width="180" height="80" fill="#e6f7ff" stroke="#1890ff" stroke-width="1" rx="3" ry="3"/>
  <text x="520" y="340" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Monitor Application</text>
  <rect x="440" y="350" width="75" height="40" fill="#bae7ff" stroke="#1890ff" stroke-width="1" rx="2" ry="2"/>
  <text x="477" y="370" font-family="Arial" font-size="11" text-anchor="middle">Grafana</text>
  <rect x="525" y="350" width="75" height="40" fill="#bae7ff" stroke="#1890ff" stroke-width="1" rx="2" ry="2"/>
  <text x="562" y="370" font-family="Arial" font-size="11" text-anchor="middle">Prometheus</text>

  <!-- Project 1 Deployment -->
  <rect x="430" y="410" width="180" height="220" fill="#f6ffed" stroke="#52c41a" stroke-width="1" rx="3" ry="3"/>
  <text x="520" y="430" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Project 1 Deployment</text>

  <!-- Frontend -->
  <rect x="440" y="440" width="160" height="30" fill="#d9f7be" stroke="#52c41a" stroke-width="1" rx="2" ry="2"/>
  <text x="520" y="459" font-family="Arial" font-size="11" text-anchor="middle">React App (web-react)</text>

  <!-- Backend -->
  <rect x="440" y="480" width="160" height="30" fill="#d9f7be" stroke="#52c41a" stroke-width="1" rx="2" ry="2"/>
  <text x="520" y="499" font-family="Arial" font-size="11" text-anchor="middle">Apollo-Prisma API</text>

  <!-- Workers -->
  <rect x="440" y="520" width="160" height="100" fill="#d9f7be" stroke="#52c41a" stroke-width="1" rx="2" ry="2"/>
  <text x="520" y="538" font-family="Arial" font-size="11" font-weight="bold" text-anchor="middle">Workers</text>
  <rect x="450" y="545" width="140" height="20" fill="#f6ffed" stroke="#52c41a" stroke-width="1" rx="2" ry="2"/>
  <text x="520" y="559" font-family="Arial" font-size="10" text-anchor="middle">Email Worker</text>
  <rect x="450" y="570" width="140" height="20" fill="#f6ffed" stroke="#52c41a" stroke-width="1" rx="2" ry="2"/>
  <text x="520" y="584" font-family="Arial" font-size="10" text-anchor="middle">Reporting Worker</text>
  <rect x="450" y="595" width="140" height="20" fill="#f6ffed" stroke="#52c41a" stroke-width="1" rx="2" ry="2"/>
  <text x="520" y="609" font-family="Arial" font-size="10" text-anchor="middle">Scraping Worker</text>

  <!-- VPS2 -->
  <rect x="630" y="120" width="200" height="520" fill="#ffffff" stroke="#d9d9d9" stroke-width="1" rx="5" ry="5"/>
  <text x="730" y="140" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">VPS 2</text>

  <!-- Shared Services VPS2 -->
  <rect x="640" y="150" width="180" height="160" fill="#fff2e8" stroke="#fa8c16" stroke-width="1" rx="3" ry="3"/>
  <text x="730" y="170" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Shared Services</text>

  <!-- Nginx VPS2 -->
  <rect x="650" y="180" width="160" height="30" fill="#ffe7ba" stroke="#fa8c16" stroke-width="1" rx="2" ry="2"/>
  <text x="730" y="199" font-family="Arial" font-size="11" text-anchor="middle">Nginx (Reverse Proxy)</text>

  <!-- Database VPS2 -->
  <rect x="650" y="215" width="75" height="30" fill="#ffe7ba" stroke="#fa8c16" stroke-width="1" rx="2" ry="2"/>
  <text x="687" y="234" font-family="Arial" font-size="11" text-anchor="middle">PostgreSQL</text>

  <!-- PgBouncer VPS2 -->
  <rect x="735" y="215" width="75" height="30" fill="#ffe7ba" stroke="#fa8c16" stroke-width="1" rx="2" ry="2"/>
  <text x="772" y="234" font-family="Arial" font-size="11" text-anchor="middle">PgBouncer</text>

  <!-- RabbitMQ VPS2 -->
  <rect x="650" y="250" width="75" height="30" fill="#ffe7ba" stroke="#fa8c16" stroke-width="1" rx="2" ry="2"/>
  <text x="687" y="269" font-family="Arial" font-size="11" text-anchor="middle">RabbitMQ</text>

  <!-- MySQL VPS2 -->
  <rect x="735" y="250" width="75" height="30" fill="#ffe7ba" stroke="#fa8c16" stroke-width="1" rx="2" ry="2"/>
  <text x="772" y="269" font-family="Arial" font-size="11" text-anchor="middle">MySQL</text>

  <!-- Monitor App VPS2 -->
  <rect x="640" y="320" width="180" height="80" fill="#e6f7ff" stroke="#1890ff" stroke-width="1" rx="3" ry="3"/>
  <text x="730" y="340" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Monitor Application</text>
  <rect x="650" y="350" width="75" height="40" fill="#bae7ff" stroke="#1890ff" stroke-width="1" rx="2" ry="2"/>
  <text x="687" y="370" font-family="Arial" font-size="11" text-anchor="middle">Grafana</text>
  <rect x="735" y="350" width="75" height="40" fill="#bae7ff" stroke="#1890ff" stroke-width="1" rx="2" ry="2"/>
  <text x="772" y="370" font-family="Arial" font-size="11" text-anchor="middle">Prometheus</text>

  <!-- Project 2 Deployment -->
  <rect x="640" y="410" width="180" height="110" fill="#fff0f6" stroke="#eb2f96" stroke-width="1" rx="3" ry="3"/>
  <text x="730" y="430" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Project 2 Deployment</text>
  <rect x="650" y="440" width="160" height="30" fill="#ffd6e7" stroke="#eb2f96" stroke-width="1" rx="2" ry="2"/>
  <text x="730" y="459" font-family="Arial" font-size="11" text-anchor="middle">React App (web-react)</text>
  <rect x="650" y="480" width="160" height="30" fill="#ffd6e7" stroke="#eb2f96" stroke-width="1" rx="2" ry="2"/>
  <text x="730" y="499" font-family="Arial" font-size="11" text-anchor="middle">Apollo-Prisma API</text>

  <!-- WordPress Project -->
  <rect x="640" y="530" width="180" height="110" fill="#f0f5ff" stroke="#2f54eb" stroke-width="1" rx="3" ry="3"/>
  <text x="730" y="550" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">WordPress Project</text>
  <rect x="650" y="560" width="160" height="30" fill="#d6e4ff" stroke="#2f54eb" stroke-width="1" rx="2" ry="2"/>
  <text x="730" y="579" font-family="Arial" font-size="11" text-anchor="middle">WordPress</text>
  <rect x="650" y="600" width="160" height="30" fill="#d6e4ff" stroke="#2f54eb" stroke-width="1" rx="2" ry="2"/>
  <text x="730" y="619" font-family="Arial" font-size="11" text-anchor="middle">Custom Plugins</text>

  <!-- Deployment Flow -->
  <path d="M 300 200 Q 350 200 400 200" fill="none" stroke="#333" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="395,195 405,200 395,205" fill="#333"/>

  <!-- CI/CD Pipeline -->
  <rect x="50" y="400" width="250" height="200" fill="#f9f0ff" stroke="#722ed1" stroke-width="2" rx="5" ry="5"/>
  <text x="175" y="425" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#722ed1">CI/CD Pipeline</text>

  <!-- Pipeline Steps -->
  <rect x="70" y="440" width="210" height="150" fill="#ffffff" stroke="#d9d9d9" stroke-width="1" rx="3" ry="3"/>
  <rect x="80" y="450" width="190" height="25" fill="#efdbff" stroke="#722ed1" stroke-width="1" rx="2" ry="2"/>
  <text x="175" y="467" font-family="Arial" font-size="12" text-anchor="middle">1. Build Docker Images</text>
  <rect x="80" y="480" width="190" height="25" fill="#efdbff" stroke="#722ed1" stroke-width="1" rx="2" ry="2"/>
  <text x="175" y="497" font-family="Arial" font-size="12" text-anchor="middle">2. Push to Registry</text>
  <rect x="80" y="510" width="190" height="25" fill="#efdbff" stroke="#722ed1" stroke-width="1" rx="2" ry="2"/>
  <text x="175" y="527" font-family="Arial" font-size="12" text-anchor="middle">3. SSH to VPS</text>
  <rect x="80" y="540" width="190" height="25" fill="#efdbff" stroke="#722ed1" stroke-width="1" rx="2" ry="2"/>
  <text x="175" y="557" font-family="Arial" font-size="12" text-anchor="middle">4. Pull and Deploy Images</text>
  <rect x="80" y="570" width="190" height="25" fill="#efdbff" stroke="#722ed1" stroke-width="1" rx="2" ry="2"/>
  <text x="175" y="587" font-family="Arial" font-size="12" text-anchor="middle">5. Run Migrations</text>

  <!-- Pipeline to VPS Connection -->
  <path d="M 300 500 Q 350 500 400 500" fill="none" stroke="#333" stroke-width="2"/>
  <polygon points="395,495 405,500 395,505" fill="#333"/>

  <!-- Legend -->
  <rect x="50" y="620" width="250" height="40" fill="#ffffff" stroke="#d9d9d9" stroke-width="1" rx="3" ry="3"/>
  <text x="175" y="640" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Environment Legend</text>
  <rect x="70" y="650" width="20" height="10" fill="#e6f7ff" stroke="#1890ff" stroke-width="1"/>
  <text x="100" y="658" font-family="Arial" font-size="10" text-anchor="start">Development</text>
  <rect x="150" y="650" width="20" height="10" fill="#fff2e8" stroke="#fa8c16" stroke-width="1"/>
  <text x="180" y="658" font-family="Arial" font-size="10" text-anchor="start">Shared Services</text>
  <rect x="260" y="650" width="20" height="10" fill="#f6ffed" stroke="#52c41a" stroke-width="1"/>
  <text x="290" y="658" font-family="Arial" font-size="10" text-anchor="start">Project-Specific</text>
</svg>
